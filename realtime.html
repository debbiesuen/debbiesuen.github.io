<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulated Taoyuan Farmer Weather Forecast</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
        }
        #map {
            height: 70vh;
        }
        .forecast-container {
            padding: 20px;
            background: #f4f4f9;
        }
        .forecast-details {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 8px;
            background: #fff;
        }
        .actions-container {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #e8f5e9;
        }
        .important {
            color: #d32f2f;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- Real-Time Weather Map -->
    <div id="map"></div>

    <!-- Forecast and Actions Section -->
    <div class="forecast-container">
        <div class="forecast-details">
            <h2>Taoyuan Weather Forecast</h2>
            <p><strong>Temperature:</strong> 26°C</p>
            <p><strong>Humidity:</strong> 85%</p>
            <p><strong>Rainfall Probability:</strong> 90%</p>
            <p><strong>Wind Speed:</strong> 15 km/h</p>
            <p class="important">It is likely to rain today. Prepare accordingly!</p>
        </div>

        <div class="actions-container">
            <h3>Farmer's Guide for Rain Preparation</h3>
            <ul>
                <li><strong>Crop Protection:</strong> Cover sensitive crops with waterproof sheets or install temporary tunnels.</li>
                <li><strong>Drainage:</strong> Ensure that drainage systems are clear of debris to prevent waterlogging.</li>
                <li><strong>Harvesting:</strong> If heavy rain is expected, consider harvesting mature crops beforehand.</li>
                <li><strong>Fertilizers:</strong> Avoid applying fertilizers right before the rain to prevent runoff.</li>
                <li><strong>Livestock:</strong> Move animals to higher ground or shelters to keep them dry.</li>
                <li><strong>Storage:</strong> Cover stored produce or equipment to avoid water damage.</li>
            </ul>
        </div>
    </div>

    <script>
        // Initialize Leaflet map centered on Taoyuan
        const map = L.map('map').setView([25.0124, 121.2021], 11); // Center Taoyuan

        // Add OpenStreetMap tiles
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 18,
            attribution: '&copy; OpenStreetMap contributors'
        }).addTo(map);

        // Add a weather marker for Taoyuan
        const marker = L.marker([25.0124, 121.2021]).addTo(map);
        marker.bindPopup(`
            <strong>Taoyuan Weather:</strong><br>
            <strong>Temp:</strong> 26°C<br>
            <strong>Humidity:</strong> 85%<br>
            <strong>Rainfall:</strong> 90%<br>
            <strong>Wind:</strong> 15 km/h<br>
            <strong>Condition:</strong> Likely Rain
        `);
    </script>
</body>
</html>
